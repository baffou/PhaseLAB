<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; PhaseLAB documentation 4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/favicon2.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=9f5556dd"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Build the optical setup" href="buildMicroscope.html" />
    <link rel="prev" title="PhaseLAB documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PhaseLAB documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-are-qlsi-and-cgm">What are QLSI and CGM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-3-main-functionalities-of-phaselab">The 3 main functionalities of PhaseLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#this-matlab-toolbox-uses-oop">This Matlab toolbox uses OOP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-phaselab-codes">Simple PhaseLAB codes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="buildMicroscope.html">Build the optical setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="importImages.html">Import experimental images</a></li>
<li class="toctree-l1"><a class="reference internal" href="processImages.html">Process experimental images</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayImages.html">Display experimental images</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Some Sphinx coding examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Microscope.html">The Microscope class</a></li>
<li class="toctree-l1"><a class="reference internal" href="Illumination.html">The Illumination class</a></li>
<li class="toctree-l1"><a class="reference internal" href="ImageQLSI.html">The ImageQLSI class</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PhaseLAB documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<section id="what-are-qlsi-and-cgm">
<h2>What are QLSI and CGM?<a class="headerlink" href="#what-are-qlsi-and-cgm" title="Link to this heading"></a></h2>
<p><strong>QLSI (quadriwave lateral shearing interferometry)</strong> is an optical imaging technique capable of mapping both the intensity and the wavefront profile of a light beam.<a class="footnote-reference brackets" href="#acsp10-322" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> Here are for instance intensity and wavefront images of a Bessel-like beam:</p>
<a class="reference internal image-reference" href="_images/QLSIimages.png"><img alt="_images/QLSIimages.png" class="align-center" src="_images/QLSIimages.png" style="width: 400px;" /></a>
<p>This technique belongs to the quantitative phase imaging (QPI) family, the <em>wavefront</em> <span class="math notranslate nohighlight">\(W\)</span> being simply related to the <em>phase</em> <span class="math notranslate nohighlight">\(\phi\)</span> by the expression <span class="math notranslate nohighlight">\(\phi=\frac{2\pi}{\lambda}W\)</span>.</p>
<p><abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> is based on the the association of a regular camera with a special 2 dimensional diffraction grating, separated with each other by a millimeter distance.</p>
<a class="reference internal image-reference" href="_images/QLSIdevice.png"><img alt="_images/QLSIdevice.png" class="align-center" src="_images/QLSIdevice.png" style="width: 400px;" /></a>
<p>When a <abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> system is implemented in an optical microscope, the measured wavefront becomes the optical path difference (OPD) created by the micrometric object placed at the sample plane. This configuration is usually referred as <strong>cross-grating wavefront microscopy (CGM)</strong>.</p>
<p>The <strong>PhaseLAB Matlab toolbox</strong> is aimed to deal with <abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> images.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="acsp10-322" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><em>Wavefront microscopy using quadriwave lateral shearing interferometry: from bioimaging to nanophotonics</em>, G. Baffou, <strong>ACS Photonics</strong> 10, 322-339 (2023)</p>
</aside>
</aside>
</section>
<section id="the-3-main-functionalities-of-phaselab">
<h2>The 3 main functionalities of PhaseLAB<a class="headerlink" href="#the-3-main-functionalities-of-phaselab" title="Link to this heading"></a></h2>
<p><strong>PhaseLAB</strong> can be used for 3 main purposes:</p>
<ol class="arabic simple">
<li><p><strong>Convert</strong> experimental <abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> interferogram images into images of interest, namely, wavefront, intensity, wavefront gradients, etc. <strong>Process and do measurements</strong> on these images using code lines, or using a <abbr title="graphical user interface">GUI</abbr> interface (crop, plot crosscuts, filter, flatten, numerically refocus, measure dry masses, export, make movie, etc).</p></li>
<li><p><strong>In silico QLSI</strong>, that is simulate <abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> intensity and wavefront/phase images of nanoparticles acquired with a specific microscope.</p></li>
<li><p>From the <strong>In silico QLSI</strong> simulation, compute the theoretical interferogram recorded by the camera in the presence of the <abbr title="quadriwave lateral shearing interferometry">QLSI</abbr> grating, and process it as if it were an experimental interferogram.</p></li>
</ol>
<p>The 3 functionalities are sketched below:</p>
<a class="reference internal image-reference" href="_images/functionalities.png"><img alt="_images/functionalities.png" class="align-center" src="_images/functionalities.png" style="width: 400px;" /></a>
</section>
<section id="this-matlab-toolbox-uses-oop">
<h2>This Matlab toolbox uses OOP<a class="headerlink" href="#this-matlab-toolbox-uses-oop" title="Link to this heading"></a></h2>
<p>Instead of using functions with an arbitrary large number of input parameters, which can be quite cumbersome, the <strong>PhaseLAB</strong> Matlab toolbox leverages on the elegance of <strong>object oriented programming (OOP)</strong>. Basically, instead of using a function that needs all the parameters of the microscope (magnification, numerical aperture, wavelength, etc)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">NA</span><span class="p">,</span> <span class="n">wl</span><span class="p">);</span>
</pre></div>
</div>
<p>one simply defines a variable (an object), <code class="docutils literal notranslate"><span class="pre">MI</span></code>, that gathers all these properties. They can be accessed by writing <code class="docutils literal notranslate"><span class="pre">MI.M</span></code>, <code class="docutils literal notranslate"><span class="pre">MI.NA</span></code>, <code class="docutils literal notranslate"><span class="pre">MI.wl</span></code>. This way, the function only requires a single input parameter, favoring a good readibility of the code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">MI</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="simple-phaselab-codes">
<h2>Simple PhaseLAB codes<a class="headerlink" href="#simple-phaselab-codes" title="Link to this heading"></a></h2>
<p>As explained above, there are three categories of codes. Here are some code examples for each of them, the simplest one can imagine.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span> <span class="n">code</span> <span class="n">to</span> <span class="kn">import</span> <span class="nn">an</span> <span class="n">experimental</span> <span class="n">interferogram</span><span class="p">,</span> <span class="n">process</span> <span class="n">it</span><span class="p">,</span> <span class="ow">and</span> <span class="n">display</span> <span class="n">the</span> <span class="n">QLSI</span> <span class="n">images</span>

<span class="n">MI</span><span class="o">=</span><span class="n">Microscope</span><span class="p">(</span><span class="n">OB</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="s1">&#39;Silios_mono&#39;</span><span class="p">);</span><span class="o">%</span> <span class="n">Create</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Microscope</span> <span class="nb">object</span>
<span class="n">IL</span> <span class="o">=</span> <span class="n">Illumination</span><span class="p">(</span><span class="mf">532e-9</span><span class="p">);</span>          <span class="o">%</span> <span class="n">Create</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Illumination</span> <span class="nb">object</span>
<span class="n">Itf</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s1">&#39;data/Itf.tif&#39;</span><span class="p">);</span>       <span class="o">%</span> <span class="n">Import</span> <span class="n">the</span> <span class="nb">object</span> <span class="n">interferogram</span>
<span class="n">Ref</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s1">&#39;data/Ref.tif&#39;</span><span class="p">);</span>       <span class="o">%</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">interferogram</span>
<span class="n">Im</span> <span class="o">=</span> <span class="n">Interfero</span><span class="p">(</span><span class="n">Itf</span><span class="p">,</span><span class="n">MI</span><span class="p">);</span>             <span class="o">%</span> <span class="n">Make</span> <span class="n">the</span> <span class="n">interferogram</span> <span class="nb">object</span>
<span class="n">Im0</span> <span class="o">=</span> <span class="n">Interfero</span><span class="p">(</span><span class="n">Ref</span><span class="p">,</span><span class="n">MI</span><span class="p">);</span>            <span class="o">%</span> <span class="n">Make</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">interferogram</span> <span class="nb">object</span>
<span class="n">Im</span><span class="o">.</span><span class="n">Reference</span><span class="p">(</span><span class="n">Im0</span><span class="p">);</span>                  <span class="o">%</span> <span class="n">Assign</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">the</span> <span class="n">interferogram</span>
<span class="n">IM</span> <span class="o">=</span> <span class="n">QLSIprocess</span><span class="p">(</span><span class="n">Im</span><span class="p">,</span><span class="n">IL</span><span class="p">);</span>            <span class="o">%</span> <span class="n">Process</span> <span class="n">the</span> <span class="n">QLSI</span> <span class="n">images</span>
<span class="n">IM</span><span class="o">.</span><span class="n">figure</span><span class="p">;</span>                          <span class="o">%</span> <span class="n">Display</span> <span class="n">the</span> <span class="n">QLSI</span> <span class="n">images</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span> <span class="n">code</span> <span class="n">that</span> <span class="n">simulates</span> <span class="n">the</span> <span class="n">image</span> <span class="n">of</span> <span class="n">a</span> <span class="n">gold</span> <span class="n">nanoparticle</span>

<span class="k">lambda</span> <span class="o">=</span> <span class="mf">530e-9</span><span class="p">;</span>                    <span class="o">%</span> <span class="n">Illumination</span> <span class="n">wavelength</span>
<span class="n">Npx</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>                          <span class="o">%</span> <span class="n">Final</span> <span class="n">image</span> <span class="k">with</span> <span class="n">Npx</span><span class="o">*</span><span class="n">Npx</span> <span class="n">pixels</span>
<span class="n">n</span> <span class="o">=</span> <span class="mf">1.33</span><span class="p">;</span>                           <span class="o">%</span> <span class="n">Refractive</span> <span class="n">index</span> <span class="n">of</span> <span class="n">the</span> <span class="n">surrounding</span> <span class="n">medium</span>

<span class="n">ME</span> <span class="o">=</span> <span class="n">Medium</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<span class="n">OB</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mf">1.3</span><span class="p">,</span><span class="s1">&#39;Olympus&#39;</span><span class="p">);</span>
<span class="n">CGcam</span> <span class="o">=</span> <span class="n">CGcamera</span><span class="p">(</span><span class="s1">&#39;Silios_mono&#39;</span><span class="p">);</span>
<span class="n">MI</span> <span class="o">=</span> <span class="n">Microscope</span><span class="p">(</span><span class="n">OB</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="n">CGcam</span><span class="p">);</span>
<span class="n">IL</span> <span class="o">=</span> <span class="n">Illumination</span><span class="p">(</span><span class="k">lambda</span><span class="p">,</span><span class="n">ME</span><span class="p">);</span>

<span class="n">MI</span><span class="o">.</span><span class="n">CGcam</span><span class="o">.</span><span class="n">setDistance</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>

<span class="n">radius</span> <span class="o">=</span> <span class="mf">50e-9</span><span class="p">;</span>                     <span class="o">%</span> <span class="n">Nanoparticle</span> <span class="n">radius</span>
<span class="n">DI</span> <span class="o">=</span> <span class="n">Dipole</span><span class="p">(</span><span class="s1">&#39;Au&#39;</span><span class="p">,</span><span class="n">radius</span><span class="p">);</span>
<span class="n">DI</span> <span class="o">=</span> <span class="n">DI</span><span class="o">.</span><span class="n">shine</span><span class="p">(</span><span class="n">IL</span><span class="p">);</span>

<span class="n">IM0</span> <span class="o">=</span> <span class="n">imaging</span><span class="p">(</span><span class="n">DI</span><span class="p">,</span><span class="n">IL</span><span class="p">,</span><span class="n">MI</span><span class="p">,</span><span class="n">Npx</span><span class="p">);</span>

<span class="n">IM0</span><span class="o">.</span><span class="n">figure</span>
</pre></div>
</div>
<p>The next sections break apart these codes lines.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PhaseLAB documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="buildMicroscope.html" class="btn btn-neutral float-right" title="Build the optical setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Guillaume Baffou.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>